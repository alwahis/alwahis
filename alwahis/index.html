<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="<span class='brand-name'>عالواهس</span> - منصة مشاركة السيارات الأولى في العراق. احجز رحلتك أو اعرض سيارتك للمشاركة.">
    <meta name="keywords" content="مشاركة السيارات, توصيل مشترك, رحلات, العراق, بغداد, كربلاء, النجف">
    <meta property="og:title" content="<span class='brand-name'>عالواهس</span> - توصيل مشترك">
    <meta property="og:description" content="منصة مشاركة السيارات الأولى في العراق">
    <meta property="og:image" content="https://alwahis.netlify.app/icon.png">
    <meta property="og:url" content="https://alwahis.netlify.app">
    <title><span class="brand-name">عالواهس</span> - توصيل مشترك</title>
    <link rel="icon" type="image/png" href="icon.svg">
    <link rel="apple-touch-icon" href="icon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Load Supabase first -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Then load our configuration -->
    <script src="supabase-config.js" type="module"></script>
    <!-- Finally load our main script -->
    <script src="script.js" type="module" defer></script>
</head>
<body>
    <nav>
        <div class="logo">
            <i class="fas fa-car-side"></i>
            <span class="brand-name">عالواهس</span>
        </div>
        <div class="nav-links">
            <a href="#" class="nav-link active" data-view="search">
                <i class="fas fa-search"></i>
                دور على رحلة
            </a>
            <a href="#" class="nav-link" data-view="publish">
                <i class="fas fa-car"></i>
                نشر رحلة
            </a>
            <a href="#" class="nav-link" data-view="request">
                <i class="fas fa-user"></i>
                طلب رحلة
            </a>
            <a href="#" class="nav-link" data-view="browse-requests">
                <i class="fas fa-list"></i>
                تصفح الطلبات
            </a>
        </div>
        <button class="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <main>
        <!-- Search View -->
        <div class="view search-view active">
            <div class="hero">
                <h1>تنقل بسهولة وأمان في العراق</h1>
                <p>منصة مشاركة السيارات الأولى في العراق</p>
            </div>
            
            <div class="container">
                <div class="card">
                    <h2>دور على رحلة</h2>
                    <form id="search-form">
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-map-marker-alt"></i>
                                <input type="text" name="startPoint" placeholder="منين تريد تطلع؟" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-map-marker"></i>
                                <input type="text" name="endPoint" placeholder="وين تريد تروح؟" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-calendar"></i>
                                <input type="date" name="date" min="{{ new Date().toISOString().split('T')[0] }}">
                            </div>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-search"></i>
                            دور على رحلة
                        </button>
                    </form>
                </div>
                
                <div id="rides-list"></div>
            </div>
        </div>

        <!-- Publish Ride View -->
        <div class="view publish-view">
            <div class="container">
                <div class="card">
                    <h2>نشر رحلة جديدة</h2>
                    <form id="publish-form">
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-map-marker-alt"></i>
                                <input type="text" name="startPoint" placeholder="منين تريد تطلع؟" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-map-marker"></i>
                                <input type="text" name="endPoint" placeholder="وين تريد تروح؟" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-calendar"></i>
                                <input type="date" name="date" min="{{ new Date().toISOString().split('T')[0] }}" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-clock"></i>
                                <input type="time" name="time" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-users"></i>
                                <input type="number" name="seats" placeholder="عدد المقاعد" min="1" max="4" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-money-bill-wave"></i>
                                <input type="number" name="price" placeholder="السعر للمقعد" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-user"></i>
                                <input type="text" name="driverName" placeholder="اسم السائق" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-phone"></i>
                                <input type="tel" name="driverPhone" placeholder="رقم الهاتف" required>
                            </div>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-plus-circle"></i>
                            نشر الرحلة
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Request Ride View -->
        <div class="view request-view">
            <div class="container">
                <div class="card">
                    <h2>طلب رحلة جديدة</h2>
                    <form id="request-form">
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-map-marker-alt"></i>
                                <input type="text" name="startPoint" placeholder="منين تريد تطلع؟" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-map-marker"></i>
                                <input type="text" name="endPoint" placeholder="وين تريد تروح؟" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-calendar"></i>
                                <input type="date" name="date" min="{{ new Date().toISOString().split('T')[0] }}" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-users"></i>
                                <input type="number" name="seatsNeeded" placeholder="عدد الركاب" min="1" max="4" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-money-bill-wave"></i>
                                <input type="number" name="maxPrice" placeholder="السعر الأقصى للمقعد">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-user"></i>
                                <input type="text" name="riderName" placeholder="اسمك" required>
                            </div>
                            <div class="form-group">
                                <i class="fas fa-phone"></i>
                                <input type="tel" name="riderPhone" placeholder="رقم هاتفك" required>
                            </div>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-plus-circle"></i>
                            نشر الطلب
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Browse Requests View -->
        <div class="view browse-requests-view">
            <div class="container">
                <div class="card">
                    <h2>تصفح طلبات الرحلات</h2>
                    <form id="browse-requests-form">
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-map-marker-alt"></i>
                                <input type="text" name="startPoint" placeholder="نقطة الانطلاق">
                            </div>
                            <div class="form-group">
                                <i class="fas fa-map-marker"></i>
                                <input type="text" name="endPoint" placeholder="الوجهة">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fas fa-calendar"></i>
                                <input type="date" name="date">
                            </div>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-search"></i>
                            بحث
                        </button>
                    </form>
                </div>
                
                <div id="requests-list"></div>
            </div>
        </div>
    </main>

    <!-- Loading Indicator -->
    <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
    </div>

</body>
</html>
